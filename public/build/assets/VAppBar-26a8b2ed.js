import{p as C,m as R,b as H,g as p,h as w,i as s,c as U,t as _,d as L,R as M,r as d,e as i,S as $,U as P,V as D,w as T,M as z,W as F,X as W,Y,a as q,E as O,u as X,f as j,C as G}from"./app-cc253eb7.js";import{V as J}from"./index-6d77125a.js";import{d as K,m as Q,a as Z,u as ee,e as te,b as ae,c as le,V as I}from"./color-cbc6450f.js";import{V as oe}from"./VImg-ae1542ce.js";const ne=C({text:String,...R(),...H()},"v-toolbar-title"),se=p()({name:"VToolbarTitle",props:ne(),setup(e,g){let{slots:t}=g;return w(()=>{const u=!!(t.default||t.text||e.text);return s(e.tag,{class:["v-toolbar-title",e.class],style:e.style},{default:()=>{var o;return[u&&s("div",{class:"v-toolbar-title__placeholder"},[t.text?t.text():e.text,(o=t.default)==null?void 0:o.call(t)])]}})}),{}}}),re=[null,"prominent","default","comfortable","compact"],A=C({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:e=>re.includes(e)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...K(),...R(),...Q(),...Z(),...H({tag:"header"}),...U()},"v-toolbar"),E=p()({name:"VToolbar",props:A(),setup(e,g){var n;let{slots:t}=g;const{backgroundColorClasses:u,backgroundColorStyles:o}=ee(_(e,"color")),{borderClasses:a}=te(e),{elevationClasses:m}=ae(e),{roundedClasses:c}=le(e),{themeClasses:h}=L(e),{rtlClasses:f}=M(),r=d(!!(e.extended||(n=t.extension)!=null&&n.call(t))),b=i(()=>parseInt(Number(e.height)+(e.density==="prominent"?Number(e.height):0)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0),10)),v=i(()=>r.value?parseInt(Number(e.extensionHeight)+(e.density==="prominent"?Number(e.extensionHeight):0)-(e.density==="comfortable"?4:0)-(e.density==="compact"?8:0),10):0);return $({VBtn:{variant:"text"}}),w(()=>{var k;const y=!!(e.title||t.title),S=!!(t.image||e.image),B=(k=t.extension)==null?void 0:k.call(t);return r.value=!!(e.extended||B),s(e.tag,{class:["v-toolbar",{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},u.value,a.value,m.value,c.value,h.value,f.value,e.class],style:[o.value,e.style]},{default:()=>[S&&s("div",{key:"image",class:"v-toolbar__image"},[t.image?s(I,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},t.image):s(oe,{key:"image-img",cover:!0,src:e.image},null)]),s(I,{defaults:{VTabs:{height:P(b.value)}}},{default:()=>{var l,x,V;return[s("div",{class:"v-toolbar__content",style:{height:P(b.value)}},[t.prepend&&s("div",{class:"v-toolbar__prepend"},[(l=t.prepend)==null?void 0:l.call(t)]),y&&s(se,{key:"title",text:e.title},{text:t.title}),(x=t.default)==null?void 0:x.call(t),t.append&&s("div",{class:"v-toolbar__append"},[(V=t.append)==null?void 0:V.call(t)])])]}}),s(I,{defaults:{VTabs:{height:P(v.value)}}},{default:()=>[s(J,null,{default:()=>[r.value&&s("div",{class:"v-toolbar__extension",style:{height:P(v.value)}},[B])]})]})]})}),{contentHeight:b,extensionHeight:v}}}),ie=C({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function ue(e){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:t}=g;let u=0;const o=d(null),a=d(0),m=d(0),c=d(0),h=d(!1),f=d(!1),r=i(()=>Number(e.scrollThreshold)),b=i(()=>D((r.value-a.value)/r.value||0)),v=()=>{const n=o.value;!n||t&&!t.value||(u=a.value,a.value="window"in n?n.pageYOffset:n.scrollTop,f.value=a.value<u,c.value=Math.abs(a.value-r.value))};return T(f,()=>{m.value=m.value||a.value}),T(h,()=>{m.value=0}),z(()=>{T(()=>e.scrollTarget,n=>{var S;const y=n?document.querySelector(n):window;if(!y){F(`Unable to locate element with identifier ${n}`,Y());return}y!==o.value&&((S=o.value)==null||S.removeEventListener("scroll",v),o.value=y,o.value.addEventListener("scroll",v,{passive:!0}))},{immediate:!0})}),W(()=>{var n;(n=o.value)==null||n.removeEventListener("scroll",v)}),t&&T(t,v,{immediate:!0}),{scrollThreshold:r,currentScroll:a,currentThreshold:c,isScrollActive:h,scrollRatio:b,isScrollingUp:f,savedScroll:m}}const ce=C({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...A(),...q(),...ie(),height:{type:[Number,String],default:64}},"v-app-bar"),he=p()({name:"VAppBar",props:ce(),emits:{"update:modelValue":e=>!0},setup(e,g){let{slots:t}=g;const u=d(),o=O(e,"modelValue"),a=i(()=>{var x;const l=new Set(((x=e.scrollBehavior)==null?void 0:x.split(" "))??[]);return{hide:l.has("hide"),inverted:l.has("inverted"),collapse:l.has("collapse"),elevate:l.has("elevate"),fadeImage:l.has("fade-image")}}),m=i(()=>{const l=a.value;return l.hide||l.inverted||l.collapse||l.elevate||l.fadeImage||!o.value}),{currentScroll:c,scrollThreshold:h,isScrollingUp:f,scrollRatio:r}=ue(e,{canScroll:m}),b=i(()=>e.collapse||a.value.collapse&&(a.value.inverted?r.value>0:r.value===0)),v=i(()=>e.flat||a.value.elevate&&(a.value.inverted?c.value>0:c.value===0)),n=i(()=>a.value.fadeImage?a.value.inverted?1-r.value:r.value:void 0),y=i(()=>{var V,N;if(a.value.hide&&a.value.inverted)return 0;const l=((V=u.value)==null?void 0:V.contentHeight)??0,x=((N=u.value)==null?void 0:N.extensionHeight)??0;return l+x});function S(){a.value.hide?a.value.inverted?o.value=c.value>h.value:o.value=f.value||c.value<h.value:o.value=!0}T(c,S,{immediate:!0}),T(a,S);const{ssrBootStyles:B}=X(),{layoutItemStyles:k}=j({id:e.name,order:i(()=>parseInt(e.order,10)),position:_(e,"location"),layoutSize:y,elementSize:d(void 0),active:o,absolute:_(e,"absolute")});return w(()=>{const[l]=E.filterProps(e);return s(E,G({ref:u,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...k.value,"--v-toolbar-image-opacity":n.value,height:void 0,...B.value},e.style]},l,{collapse:b.value,flat:v.value}),t)}),{}}});export{he as V};
