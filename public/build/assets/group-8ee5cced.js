import{p as I,N as x,q as B,y as w,v as V,G as y,s as g,M as C,z as M,Q as P,n as k,e as q,az as E,aw as U,R as $,K as z}from"./app-7265ad73.js";const A=I({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),F=I({value:null,disabled:Boolean,selectedClass:String},"group-item");function O(t,o){let d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const e=x("useGroupItem");if(!e)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const n=B();w(Symbol.for(`${o.description}:id`),n);const u=V(o,null);if(!u){if(!d)return u;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${o.description}`)}const h=y(t,"value"),p=g(()=>u.disabled.value||t.disabled);u.register({id:n,value:h,disabled:p},e),C(()=>{u.unregister(n)});const f=g(()=>u.isSelected(n)),v=g(()=>f.value&&[u.selectedClass.value,t.selectedClass]);return M(f,m=>{e.emit("group:selected",{value:m})}),{id:n,isSelected:f,toggle:()=>u.select(n,!f.value),select:m=>u.select(n,m),selectedClass:v,value:h,disabled:p,group:u}}function Q(t,o){let d=!1;const e=P([]),n=k(t,"modelValue",[],s=>s==null?[]:S(e,U(s)),s=>{const l=R(e,s);return t.multiple?l:l[0]}),u=x("useGroup");function h(s,l){const r=s,i=Symbol.for(`${o.description}:id`),c=$(i,u==null?void 0:u.vnode).indexOf(l);c>-1?e.splice(c,0,r):e.push(r)}function p(s){if(d)return;f();const l=e.findIndex(r=>r.id===s);e.splice(l,1)}function f(){const s=e.find(l=>!l.disabled);s&&t.mandatory==="force"&&!n.value.length&&(n.value=[s.id])}q(()=>{f()}),C(()=>{d=!0});function v(s,l){const r=e.find(i=>i.id===s);if(!(l&&(r!=null&&r.disabled)))if(t.multiple){const i=n.value.slice(),a=i.findIndex(G=>G===s),c=~a;if(l=l??!c,c&&t.mandatory&&i.length<=1||!c&&t.max!=null&&i.length+1>t.max)return;a<0&&l?i.push(s):a>=0&&!l&&i.splice(a,1),n.value=i}else{const i=n.value.includes(s);if(t.mandatory&&i)return;n.value=l??!i?[s]:[]}}function m(s){if(t.multiple&&z('This method is not supported when using "multiple" prop'),n.value.length){const l=n.value[0],r=e.findIndex(c=>c.id===l);let i=(r+s)%e.length,a=e[i];for(;a.disabled&&i!==r;)i=(i+s)%e.length,a=e[i];if(a.disabled)return;n.value=[e[i].id]}else{const l=e.find(r=>!r.disabled);l&&(n.value=[l.id])}}const b={register:h,unregister:p,selected:n,select:v,disabled:y(t,"disabled"),prev:()=>m(e.length-1),next:()=>m(1),isSelected:s=>n.value.includes(s),selectedClass:g(()=>t.selectedClass),items:g(()=>e),getItemIndex:s=>N(e,s)};return w(o,b),b}function N(t,o){const d=S(t,[o]);return d.length?t.findIndex(e=>e.id===d[0]):-1}function S(t,o){const d=[];for(let e=0;e<t.length;e++){const n=t[e];n.value!=null?o.find(u=>E(u,n.value))!=null&&d.push(n.id):o.includes(e)&&d.push(n.id)}return d}function R(t,o){const d=[];for(let e=0;e<t.length;e++){const n=t[e];o.includes(n.id)&&d.push(n.value!=null?n.value:e)}return d}export{F as a,O as b,A as m,Q as u};
